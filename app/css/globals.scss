@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: rgb(211, 216, 232);
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background-color: #0d1224;
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* ========================================
   Z-INDEX HIERARCHY GLOBAL RULES
========================================= */

/* Navbar siempre arriba de todo */
nav {
  z-index: 9999 !important;
}

/* Logo y botones del navbar con máxima prioridad */
nav .navbar-logo,
nav .mobile-menu-button {
  z-index: 10000 !important;
}

/* Menu móvil */
nav .mobile-menu {
  z-index: 9998 !important;
}

/* Todos los sections y main content */
section,
main,
.hero-section,
.about-section,
.experience-section,
.skills-section,
.education-section,
.projects-section,
.contact-section,
footer {
  z-index: 10 !important;
}

/* Elementos decorativos y overlays */
.decorative-element,
.background-element,
.floating-element {
  z-index: 5 !important;
}

/* Fondos y elementos que deben estar atrás */
.background-pattern,
.hero-background,
.section-background {
  z-index: -10 !important;
}

/* Modals y popups (si los tienes) */
.modal,
.popup,
.toast {
  z-index: 9997 !important;
}

/* Tooltips */
.tooltip {
  z-index: 9996 !important;
}

/* ========================================
   STICKY CARDS CONFIGURATION
========================================= */

#sticky-card-1 {
  --index: 1;
}

#sticky-card-2 {
  --index: 2;
}

#sticky-card-3 {
  --index: 3;
}

#sticky-card-4 {
  --index: 4;
}

.sticky-card {
  /* padding-top: calc(var(--index) * 2.5rem); */
  top: calc(var(--index) * 4rem);
  z-index: calc(10 - var(--index)) !important; /* Cards más bajas tienen z-index menor */
}

/* ========================================
   UTILITY CLASSES FOR Z-INDEX
========================================= */

/* Clases utilitarias para usar en componentes */
.z-navbar { z-index: 9999 !important; }
.z-modal { z-index: 9997 !important; }
.z-content { z-index: 10 !important; }
.z-decorative { z-index: 5 !important; }
.z-background { z-index: -10 !important; }

/* ========================================
   RESPONSIVE Z-INDEX FIXES
========================================= */

@media (max-width: 1024px) {
  /* Asegurar que en mobile el navbar esté siempre visible */
  nav {
    z-index: 10000 !important;
  }
  
  .mobile-menu {
    z-index: 9999 !important;
  }
}

/* ========================================
   SPECIFIC COMPONENT OVERRIDES
========================================= */

/* Hero section específicos */
.hero-section .background-svg {
  z-index: -5 !important;
}

.hero-section .floating-elements {
  z-index: -1 !important;
}

/* About section específicos */
.about-section .decorative-sidebar {
  z-index: 5 !important;
}

/* Cards y elementos interactivos */
.card,
.project-card,
.skill-card {
  z-index: 8 !important;
}

.card:hover,
.project-card:hover,
.skill-card:hover {
  z-index: 9 !important;
}

/* ========================================
   DEBUGGING (Opcional - remover en producción)
========================================= */

/* 
Descomenta estas líneas para debuggear z-index visualmente
.debug-z-index * {
  outline: 1px solid red;
  position: relative;
}

.debug-z-index *:before {
  content: attr(class);
  position: absolute;
  top: 0;
  left: 0;
  font-size: 10px;
  color: red;
  background: rgba(255,255,255,0.8);
  padding: 2px;
  z-index: 99999;
}
*/

/* ========================================
   ✅ OPTIMIZACIÓN: Experience Cards
========================================= */

/* Mejora de performance en transiciones */
.experience-card {
  /* GPU acceleration para transiciones suaves */
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

.experience-card-content {
  /* Asegurar que las transiciones sean hardware-accelerated */
  will-change: auto;
}

/* Transición suave en hover - solo con CSS */
.experience-card:hover .experience-card-content {
  transform: translateY(-2px);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimización de animaciones de fade */
@media (prefers-reduced-motion: no-preference) {
  .experience-card {
    animation: fadeInUp 0.6s ease-out backwards;
  }
  
  .experience-card:nth-child(1) { animation-delay: 0.1s; }
  .experience-card:nth-child(2) { animation-delay: 0.2s; }
  .experience-card:nth-child(3) { animation-delay: 0.3s; }
  .experience-card:nth-child(4) { animation-delay: 0.4s; }
  .experience-card:nth-child(5) { animation-delay: 0.5s; }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Disable animations for reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .experience-card,
  .experience-card * {
    animation: none !important;
    transition: none !important;
  }
}